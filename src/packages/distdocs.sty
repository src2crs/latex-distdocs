\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{distdocs}[2023/10/28 v0.0.1 LaTeX package for distdocs]

\RequirePackage{import}

% Import a subdirectory using a main file.
% This uses the import package, so subsequent \input calls will also search
% for files in the given directory.
% #1: The directory to use.
% #2: The main file. Defaults to the same name as the directory.
\NewDocumentCommand{\importsubdir}{ m O{#1} }{
    \subimport{#1}{#2}
}

% Inputs a subdirectory as a section using a main file from that directory.
% This uses the import package, so subsequent \input calls will also search
% for files in the given directory.
% #1: The section's title.
% #2: The directory to use.
% #3: The section's main file. Defaults to the same name as the directory.
\NewDocumentCommand{\importsection}{ m m O{#2} }{
    \section{#1}
    \importsubdir{#2}[#3]
}

% Analogous to inputsection, but for subsections.
\NewDocumentCommand{\importsubsection}{ m m O{#2} }{
    \subsection{#1}
    \importsubdir{#2}[#3]
}
